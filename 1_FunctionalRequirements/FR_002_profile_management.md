---
title: "FR_002: プロフィール管理"
updated: "2024-01-01T00:00:00Z"
owner: "TBD"
---

# FR_002: プロフィール管理

## 目的

ユーザーが自身のプロフィール情報を閲覧・編集・管理する機能を提供する。

## 利用者

- エンドユーザー（ログイン済みユーザー）

## 前提・制約

- ログイン必須
- プロフィール画像は最大5MB、JPEG/PNG形式のみ
- メールアドレスの変更時は確認メールを送信

## ユースケース

### メインフロー: プロフィール編集

1. ユーザーがプロフィール画面にアクセス
2. 編集したい項目を変更
3. 「保存」ボタンをクリック
4. バリデーションを実行
5. 成功時、変更内容を保存して確認メッセージを表示
6. 失敗時、エラーメッセージを表示

### 代替フロー: プロフィール画像アップロード

1. ユーザーが「画像を変更」ボタンをクリック
2. ファイル選択ダイアログを表示
3. 画像ファイルを選択
4. 画像プレビューを表示
5. 「アップロード」ボタンをクリック
6. 画像をアップロードして保存

### 例外フロー: メールアドレス変更

1. ユーザーがメールアドレスを変更
2. 確認メールを新メールアドレスに送信
3. ユーザーがメール内のリンクをクリック
4. メールアドレス変更を確定

## 入力/出力

### 入力項目

- `display_name` (string, optional): 表示名
- `email` (string, optional): メールアドレス
- `avatar` (file, optional): プロフィール画像
- `bio` (string, optional): 自己紹介（最大500文字）
- `phone_number` (string, optional): 電話番号

### 出力項目

#### プロフィール取得時

- `user_id` (string): ユーザーID
- `display_name` (string): 表示名
- `email` (string): メールアドレス
- `avatar_url` (string): プロフィール画像URL
- `bio` (string): 自己紹介
- `phone_number` (string): 電話番号
- `created_at` (datetime): アカウント作成日時
- `updated_at` (datetime): 最終更新日時

## 受入条件（Acceptance Criteria）

- [ ] プロフィール情報を閲覧できる
- [ ] プロフィール情報を編集・保存できる
- [ ] プロフィール画像をアップロード・変更できる
- [ ] 画像サイズ・形式のバリデーションが機能する
- [ ] メールアドレス変更時に確認メールが送信される
- [ ] 自己紹介の文字数制限（500文字）が機能する

## 関連ドキュメント

- [FR_001: ユーザー認証](./FR_001_user_authentication.md)
- [API仕様](../3_SystemDesign/api_specifications.md)
- [データモデル・ERD](../3_SystemDesign/data_model_ERD.md)
- [エラーハンドリング](../3_SystemDesign/error_handling.md)

## 追記履歴

| 日時 | 変更者 | 要旨 |
|------|--------|------|
| 2024-01-01 | TBD | 初版作成 |

## TODO

- [ ] プロフィールの公開設定（公開/非公開）を検討
- [ ] プロフィール画像のリサイズ・最適化要件を定義
- [ ] プロフィールの検索・閲覧機能を検討
- [ ] プロフィールのエクスポート機能を検討
- [ ] プライバシー設定の詳細を記載

